apiVersion: admissionregistration.k8s.io/v1beta1
kind: ValidatingWebhookConfiguration
metadata:
  name: kritis-validation-hook
  labels:
    kritis.grafeas.io/install: ""
webhooks:
- name: kritis-validation-hook.grafeas.io
  rules:
  - apiGroups: [""]
    apiVersions: ["v1"]
    operations: ["CREATE", "UPDATE"]
    resources: ["pods"]
  failurePolicy: Fail
  namespaceSelector:
    matchExpressions:
    - key: kritis-validation
      operator: NotIn 
      values:
      - disabled
  clientConfig:
    caBundle: "TFMwdExTMUNSVWRKVGlCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2sxSlNVUllSRU5EUVd0VFowRjNTVUpCWjBsU1FVNVBSazlJUjBoT05YZGtjRTl0UjNsV1kwWnNaSE4zUkZGWlNrdHZXa2xvZG1OT1FWRkZURUpSUVhjS1RGUkZVVTFCTkVkQk1WVkZRMmhOU0ZSSGJHaGtTRXB3WW5wRldrMUNZMGRCTVZWRlFYaE5VV015Um5WYVIwcDJaVU0xYzJGWFJqQmphVFZ3WW5wQlpRcEdkekI0VDFSRmQwMVVWWGxOZWxWNFRWUnNZVVozTUhsTlJFRjRUVlJOZVUxNlZYaE5WR3hoVFVSSmVFWlVRVlJDWjA1V1FrRnZWRVJIVG14amJsRjBDbUpYUm5WWlYyUnNZMnBGV2sxQ1kwZEJNVlZGUVhoTlVXTXlSblZhUjBwMlpVTTFjMkZYUmpCamFUVndZbnBEUTBGVFNYZEVVVmxLUzI5YVNXaDJZMDRLUVZGRlFrSlJRVVJuWjBWUVFVUkRRMEZSYjBOblowVkNRVTVXYTJjeGVYTjNjV3BXUjFkTFRuSldiRTAyVlVocllTOVpTMHR5ZWxWV1pYaERVRlZ6ZGdveloxSjBjbms0Ym1aTFZqZDNNRGx5VFZsWmMwSjZNVmhJVDBjMVVEWlFUWFpaZVdKME9ITklhbkJWWjBWWk9YWTJlSEZZY2xaa2VVWnJZVWxqYzFaRkNuUkNXRWR3U0RkdmNuSTNhWEEyYmsxVlJITm1WVmR6WVdSVWRpc3JaVEpVY0VGdk9FaDJPWHBhWm05Uk55OW9SV0ZGTURWNVJEVXlURUl2VXpacmFYVUtNMjFtUm1Sa1JYSnBhVUpJWlhWbFpEUklXSFlyWkZNNGJtaDBlblZVU2lzdkwydGlNRkprTnpFeGQzaHdkR1ZtU1RSU2VEbElSVVJYV1dscVRrZDFhZ3BNVUV0TUwzbHdTMWR2YzFWdE5YWmxkMk5XVm10bmVVUllOM3BJTm5Wb2FWZ3dTekoxTm1GRGEyUjFOWEJJTWxWUVpVTlpNR2RpWmxNeGRsYzNialJ5Q2xwQmVGUkNZbVJEZEVkTlNXWjNRMXBrWVU0M1RqQm5OWE5WYW01c1NUVlNURTR3YjJZcmJHWkZja2hoVkUxalEwRjNSVUZCWVU1NVRVaEJkMFJuV1VRS1ZsSXdVRUZSU0M5Q1FWRkVRV2RYWjAxQmQwZEJNVlZrUlhkRlFpOTNVVU5OUVVGM1NIZFpSRlpTTUdwQ1FtZDNSbTlCVld0cVpreEpWMmR2UzNaWVV3cEdiWEZEZDNGMVIyaDNXVGhqU0dOM1RIZFpSRlpTTUZKQ1EyZDNTbTlKVVdNeVJuVmFSMHAyWlVNMWMyRlhSakJqYVRWd1lqUkpVMHRwTlhwWlZ6VnJDbGx0T1RSTWJYaHdXVmhTZVV4dGJIWk5RVEJIUTFOeFIxTkpZak5FVVVWQ1EzZFZRVUUwU1VKQlVVSk9RamgwYjJsTlNHUjBNazRyYjBKUWFGb3JORmtLYUhkWFEwVnpNM3BZUW5wd1dVbzRRakYxU0hwWFRUSlNaVzVaYms1MFJXUjFSbnBKUzNoRU1taGFlRUprTVhwaFRIQXhZelZXVm1ObFMyTjVkRFpJY2dwRU9URlVSVlZFY0N0blZFZGhTalZQWWt0SVF6UkpkbEJ2YTBwT1NIWkxMMWwxY1ROSVlqTlFUbkpLZEZaYVZWSnVORzlzYVdNelRXb3lhMHhRVXpSTUNuZFVhWFptWjJoR1VUUk9Xa016U0ZSYVlVaFVhRTlyYVM5U1JUbDRaazlvUjJ4bVpFWmhXVmhTUVRWd1ZqSkhaWFp1YlhwbmRIWk5XbTFoY1M4MVpXY0tXRnBVUlhGWWNrZGpVVFZuYzFBek5tVjNWa05YZUVwTkwwUk5XakZKTjA5RFRHVnJRbXN2VlUxcE1VdDVkVzF1WkdGTFduRjVaM2RSUTFOMVFWTk1XUXAwUnpWWWEzWm5SRGRJSzBRM01XeEZlRlJUZEhaR2JqbEhhelF6YWxGNWExbEVRVXRLTkdSRU9HTXpkVlpKTTFkbk1XbFFSa1E0WkU5Nk5VTlFOREIyQ2kwdExTMHRSVTVFSUVORlVsUkpSa2xEUVZSRkxTMHRMUzBL"
    service:
      name: "kritis-validation-hook"
      namespace: "{{ .Values.serviceNamespace }}"

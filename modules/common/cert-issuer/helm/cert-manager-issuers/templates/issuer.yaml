apiVersion: certmanager.k8s.io/v1alpha1
kind: Issuer
metadata:
  name: lead-namespace-issuer
spec:
{{- if .Values.selfSigned.enabled }}
  selfSigned: {}
{{- end}}
{{- if .Values.acme.enabled }}
  acme:
    server: {{ .Values.acme.server }}
    email: {{ .Values.acme.email }}
    privateKeySecretRef:
      name: lead-issuer-key
    http01: 
      ingressClass: nginx
{{- if .Values.acme.dnsProvider }}
    dns01:
      providers: 
      - {{ .Values.acme.dnsProvider }}
{{- end}}
{{- end}}
